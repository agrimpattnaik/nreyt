(this.webpackJsonpylight=this.webpackJsonpylight||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t),n.d(t,"useSongMethods",(function(){return E}));var a,c=n(18),r=n(14),i=n.n(r),o=n(23),s=n(62),l=n(8),u=n(0),d=n.n(u),j=n(112),b=n.p+"static/media/CompletedTick.997be658.svg",p=n.p+"static/media/DownloadIcon.99d55e74.svg",h=n(168),f=n(237),m=n(280),O=n(212),x=n(50),g=n(238),y=n(234),v=n(277),w=n(236),S=n(231),k=n(235),C=n(233),T=n(232),z=n(2),I=function(e){var t=e.isOpen,n=e.handleCancel,a=e.handleDelete,c=Object(u.useState)(!1),r=Object(l.a)(c,2),i=r[0],o=r[1];return d.a.useEffect((function(){}),[i]),Object(z.jsx)("div",{children:Object(z.jsxs)(S.a,{style:{zIndex:1500},open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(z.jsx)(T.a,{id:"alert-dialog-title",children:"Delete this song from your device ?"}),Object(z.jsx)(C.a,{children:Object(z.jsx)(y.a,{control:Object(z.jsx)(v.a,{color:"primary",checked:i,onChange:function(e){return o(e.target.checked)},value:"checkBox"}),label:"Don't ask again"})}),Object(z.jsxs)(k.a,{children:[Object(z.jsx)(w.a,{onClick:n,color:"primary",children:"Cancel"}),Object(z.jsx)(w.a,{onClick:function(){return a(i)},color:"primary",children:"Delete"})]})]})})},R=n(21),D=n(67),P=n(30),E=function(e){var t=Object(u.useContext)(R.a),n=Object(l.a)(t,2);Object(s.a)(n[0]);var c=n[1],r=d.a.useCallback((function(e){c({type:"setSnackbarMsg",snippet:e})}),[c]),j=Object(u.useState)(!1),b=Object(l.a)(j,2),p=b[0],h=b[1],f=Object(u.useState)(null),m=Object(l.a)(f,2),O=m[0],x=m[1];Object(u.useEffect)((function(){var e="true"===localStorage.getItem("dontAskPopup");x(e)}),[]);var g=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/song",{params:{id:t}});case 2:return n=e.sent,e.next=5,Object(P.c)(t,n.data);case 5:e.sent,r("Song Downloaded");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)(a);case 2:e.sent,h(!1),r("Deleted Successfully"),t&&(localStorage.setItem("dontAskPopup",!0),x(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=O?null:Object(z.jsx)(I,{isOpen:p,handleCancel:function(){return h(!1)},handleDelete:y});return{handleDownload:g,handleRemoveSong:function(e){a=e,O?y():h(!0)},deleteTheSong:y,dontAskPopup:O,setDeleteDialogState:h,deleteDialogState:p,deleteDialogComponent:v}};t.default=function(e){var t=e.songs,n=Object(u.useContext)(R.a),a=Object(l.a)(n,2);Object(s.a)(a[0]);var r=a[1],i=Object(u.useState)(window.innerHeight),o=Object(l.a)(i,2),y=(o[0],o[1]),v=function(e){var t;t={id:e.videoId,audio:e.audio,thumbnail:e.thumbnail,title:e.title,channelTitle:e.channelTitle,maxThumbnail:"https://img.youtube.com/vi/".concat(e.videoId,"/maxresdefault.jpg"),sdThumbnail:"https://img.youtube.com/vi/".concat(e.videoId,"/sddefault.jpg")},r({type:"setCurrentVideoSnippet",snippet:t})},w=E(),S=w.handleDownload,k=w.handleRemoveSong,C=w.deleteDialogComponent,T=function(e){return"downloading"===e.downloadState?"downloading-animation":""};Object(u.useEffect)((function(){y(window.innerHeight)}));var I=t.map((function(e,t){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(h.a,{alignItems:"flex-start",button:!0,onClick:function(){return v(e)},children:[Object(z.jsx)(f.a,{children:Object(z.jsx)(m.a,{className:"searchThumb",style:{width:"60px",height:"60px",marginRight:"15px"},alt:e.title,src:"https://img.youtube.com/vi/".concat(e.videoId,"/default.jpg")})}),Object(z.jsx)(O.a,{primary:e.title,secondary:Object(z.jsx)(d.a.Fragment,{children:Object(z.jsx)(x.a,{component:"span",variant:"body2",color:"textPrimary",children:e.channelTitle})})})]}),Object(z.jsx)("div",{className:"download-container",onClick:function(){return e.audio?k(e.videoId):S(e.videoId)},children:Object(z.jsx)("div",{className:"badge-container",children:Object(z.jsx)("img",{className:T(e),src:e.audio?b:p,alt:"downloading icon"})})})]})})),D=d.a.forwardRef((function(e,t){return Object(z.jsxs)("div",{ref:t,style:Object(c.a)(Object(c.a)({},e.style),{},{maxWidth:"1000px",left:"50%",transform:"translateX(-50%)"}),children:[I[e.index],Object(z.jsx)(g.a,{})]})}));return Object(z.jsxs)(z.Fragment,{children:[C,Object(z.jsx)(j.a,{height:window.innerHeight-100,itemCount:t.length,width:window.innerWidth,children:D})]})}},118:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),i=n.n(r),o=(n(130),n(21)),s=n(8),l=n(29),u=n(24),d=n(18),j=n(14),b=n.n(j),p=n(23),h=n(214),f=n(215),m=n(170),O=n(116),x=n(217),g=n(216),y={baseURL:"https://suggestqueries.google.com/complete/search?",params:{hl:"en",ds:"yt",client:"youtube"}},v=n(168),w=n(210),S=n(212),k=n(213),C=n(211),T=n(2),z=function(e){var t=e.results,n=e.onSearchSelect,a=[];return t&&(a=t.map((function(e,t){return Object(T.jsxs)(v.a,{onClick:function(){return n(e[0])},button:!0,children:[Object(T.jsx)(w.a,{style:{paddingLeft:"16px"},children:Object(T.jsx)(C.a,{})}),Object(T.jsx)(S.a,{primary:e[0]})]},t)}))),Object(T.jsx)(k.a,{children:a})},I=n(63),R=n(106),D=n.n(R),P=Object(u.f)((function(e){var t=e.history,n=e.location,c=new URLSearchParams(n.search),r=Object(a.useContext)(o.a),i=Object(s.a)(r,2),l=i[0].searchState,u=i[1],d=Object(a.useCallback)((function(e){u({type:"setSearchState",snippet:e})}),[u]),j=Object(a.useCallback)((function(e){u({type:"setSearchResult",snippet:e})}),[u]),v=Object(a.useState)(""),w=Object(s.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)(""),R=Object(s.a)(C,2),P=R[0],E=R[1],N=Object(a.useState)(null),M=Object(s.a)(N,2),A=M[0],L=M[1],V=Object(a.useState)(!0),F=Object(s.a)(V,2),U=F[0],H=F[1],W=function(e){k(e),L(e),d("searching"),t.push({pathname:"/search",search:"?q=".concat(e)})},B=function(){y.params.q=S,D()(y.baseURL+function(e){var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t.slice(0,-1)}(y.params),null,(function(e,t){E(t[1])}))};Object(a.useEffect)((function(){A&&""!==A&&function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/search",{params:{q:t,maxResults:15}});case 2:n=e.sent,j(n.data.items),d("completed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(A)}),[A,j,d]),Object(a.useEffect)((function(){}),[l]),Object(a.useEffect)((function(){var e=c.get("q");e&&(L(e),k(e),d("searching"))}),[d,L]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(m.a,{onClick:function(){d("home"),"/search"===t.location.pathname&&t.goBack()},color:"inherit","aria-label":"Menu",children:Object(T.jsx)(g.a,{})}),Object(T.jsx)("form",{style:{width:"100%"},onSubmit:function(e){return function(e){e.preventDefault(),e.target.lastChild.lastChild.blur(),d("searching"),L(S),t.push({pathname:"/search",search:"?q=".concat(S)})}(e)},children:Object(T.jsx)(O.a,{fullWidth:!0,placeholder:"Search...",autoFocus:!0,style:{color:"#fff",paddingLeft:"16px"},value:S,onChange:function(e){k(e.target.value),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return function(){var a=this,c=arguments;clearTimeout(t),t=setTimeout((function(){e.apply(a,c)}),n)}}((function(e){B()}))(e)},onClick:function(){d("clicked"),H(!0)}})}),Object(T.jsx)(x.a,{className:"searchPopper",open:U,anchorEl:document.getElementById("navbar"),popperOptions:{modifiers:{preventOverflow:{padding:0}}},placement:"bottom",children:function(){switch(l){case"searching":return Object(T.jsx)(h.a,{style:{height:"100vh"},container:!0,justify:"center",alignItems:"center",children:Object(T.jsx)(f.a,{})});case"clicked":return Object(T.jsx)(z,{results:P,onSearchSelect:W});case"completed":H(!1)}}})]})})),E=n(219),N=n(50),M=n(221),A=n(222),L=n(218),V=n(220),F={root:{flexGrow:1},title:{textAlign:"center",width:"calc(100% - 96px)"},input:{color:"#fff"}};function U(e){var t=e.children,n=Object(L.a)();return Object(T.jsx)(E.a,{appear:!1,direction:"down",in:!n,children:t})}var H=Object(u.f)((function(e){var t=Object(a.useContext)(o.a),n=Object(s.a)(t,2),r=n[0].searchState,i=n[1],l=c.a.useCallback((function(e){i({type:"setSearchState",snippet:e})}),[i]);return c.a.useEffect((function(){var t=function(){var t=e.history.location.pathname;l("/search"===t?"searching":"home")};t();e.history.listen((function(e){t()}))}),[l,e.history]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(U,Object(d.a)(Object(d.a)({},e),{},{children:Object(T.jsx)(M.a,{id:"navbar",position:"sticky",children:Object(T.jsx)(A.a,{children:"home"===r?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(m.a,{color:"inherit","aria-label":"Menu",onClick:function(){i({type:"setMenuOpen",snippet:!0})},children:Object(T.jsx)(V.a,{})}),Object(T.jsx)(N.a,{variant:"h6",color:"inherit",style:F.title,children:"Ylight Music"}),Object(T.jsx)(m.a,{onClick:function(){return l("clicked")},color:"inherit","aria-label":"Search",children:Object(T.jsx)(C.a,{})})]}):Object(T.jsx)(P,{})})})}))})})),W=n(66),B=n(223),q=n(224),Y=n(225),X=n(226),G=function(e){var t=e.player,n=e.audioState,a=e.minimized;return Object(T.jsx)(m.a,{size:"small",color:a?"secondary":"primary","aria-label":"Pause",onClick:function(e){"playing"===n?t.pause():"paused"===n&&t.play(),e.stopPropagation()},disableFocusRipple:!0,disableRipple:!0,children:"playing"===n?a?Object(T.jsx)(B.a,{style:{fontSize:"3em",opacity:".8"}}):Object(T.jsx)(q.a,{style:{fontSize:"4em"},color:"primary"}):"paused"===n||"loaded"===n?a?Object(T.jsx)(Y.a,{style:{fontSize:"3em",opacity:".8"}}):Object(T.jsx)(X.a,{style:{fontSize:"4em"},color:"primary"}):"loading"===n?Object(T.jsx)(f.a,{}):void 0})},J=n(227),K=function(e){var t=e.onPlayNext;return Object(T.jsx)(m.a,{color:"primary","aria-label":"Next",onClick:t,children:Object(T.jsx)(J.a,{fontSize:"large"})})},_=n(228),Q=function(e){var t=e.playPrevious;return Object(T.jsx)(m.a,{color:"primary","aria-label":"Pause",onClick:t,children:Object(T.jsx)(_.a,{fontSize:"large"})})},$=n(44),Z=n(280),ee=n(229),te=n.p+"static/media/dottedCircle.f3b8707d.svg",ne=n(30),ae={time:0,target:null};var ce,re=function(e){var t=e.data,n=e.rating,r=e.audioEl,i=Object(W.useSwipeable)({onSwipedUp:function(e){f()}}),o=Object(a.useState)({transform:"scale(0)"}),l=Object(s.a)(o,2),u=l[0],j=l[1],b={background:"url(".concat(te,") no-repeat"),padding:"18px",position:"relative",zIndex:"1"},p=Object(a.useCallback)((function(){j({transform:"scale(0)"}),setTimeout((function(){j({transform:"scale(1)"})}),300)}),[j]),f=Object(a.useCallback)((function(){Object(ne.g)(t.id,"disliked"),j({transform:"scale(0)"}),setTimeout((function(){j({transform:"scale(1)",color:"#2d3436"})}),300)}),[j,t.id]);c.a.useEffect((function(){"liked"===n?p():"disliked"===n?f():j({transform:"scale(0)"})}),[n,p,f,j]);return Object(T.jsxs)(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{marginTop:"40px"},onClick:function(e){(function(e){var t={time:(new Date).getTime(),target:e.currentTarget},n=t.target===ae.target&&t.time-ae.time<300;return ae=t,n})(e)&&(p(),Object(ne.g)(t.id,"liked",r))},children:[Object(T.jsxs)($.b.div,Object(d.a)(Object(d.a)({className:"box",drag:!0,dragElastic:!0,dragTransition:{bounceStiffness:100,bounceDamping:10},dragConstraints:{left:0,right:0,top:0,bottom:0},style:b},i),{},{children:[Object(T.jsx)(ee.a,{className:"songHeart left",style:u}),Object(T.jsx)(ee.a,{className:"songHeart right",style:u}),Object(T.jsx)(Z.a,{className:"searchThumb",style:{width:"215px",height:"215px",boxShadow:"#0000008c 1px 3px 8px"},alt:"video thumbnail",src:t.thumbnail?window.URL.createObjectURL(t.thumbnail):t.maxThumbnail,imgProps:{onLoad:function(e){return function(e){e.target.naturalWidth<400&&(e.target.src=t.sdThumbnail)}(e)}}})]})),Object(T.jsx)("br",{}),Object(T.jsx)(N.a,{color:"primary",variant:"h5",className:"musicArtTitle",align:"center",children:function(e){var t=new RegExp(e.channelTitle+" - | : ","g");return e.title.replace(t,"")}(t)}),Object(T.jsx)(N.a,{color:"primary",variant:"subtitle1",children:t.channelTitle}),Object(T.jsx)("br",{})]})},ie=n(5),oe=n(281),se=Object(ie.a)({root:{height:6},thumb:{height:16,width:16,marginTop:-5.3,marginLeft:-8,"&::before":{content:"''",height:"inherit",width:"inherit",position:"absolute",transform:"scale(1.6)",borderRadius:"50px",border:"1px solid"}},track:{height:6,borderRadius:4},rail:{height:6,borderRadius:4}})(oe.a),le=Object(ie.a)({root:{height:4,position:"relative",bottom:"16px",color:"#FFFDFD",padding:0},thumb:{display:"none"},track:{height:4,borderRadius:0},rail:{height:4,borderRadius:0}})(oe.a),ue=function(e){var t=Math.floor(e/60),n=Math.ceil(e-60*t);return n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)},de=function(e){var t=e.audioState,n=e.player,c=e.minimized,r=Object(a.useState)(50),i=Object(s.a)(r,2),o=(i[0],i[1],Object(a.useState)(0)),l=Object(s.a)(o,2),u=l[0],d=l[1];Object(a.useEffect)((function(){var e;return n&&d(n.currentTime),"playing"===t?e=setInterval((function(){d(n.currentTime)}),800):clearInterval(e),function(){return clearInterval(e)}}),[t,n]);return c?Object(T.jsx)(le,{value:u,max:n?n.duration:0}):Object(T.jsxs)("div",{style:{margin:"0 auto",width:"90%"},children:[Object(T.jsxs)(h.a,{container:!0,direction:"row",justify:"space-between",children:[Object(T.jsx)(N.a,{variant:"body1",color:"primary",children:ue(u)}),Object(T.jsx)(N.a,{variant:"body1",color:"primary",children:n?n.duration?ue(n.duration):"0:00":0})]}),Object(T.jsx)(se,{value:u,onChange:function(e,t){n.currentTime=t,d(t)},max:n?n.duration:0})]})},je=n(242),be=n(243),pe=n(244),he=n(245),fe=n(246),me=n(230),Oe=function(e){var t=e.player,n=(e.setPlayerState,Object(a.useState)(100)),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(T.jsxs)(h.a,{container:!0,spacing:1,style:{maxWidth:"200px"},children:[Object(T.jsx)(h.a,{item:!0,children:Object(T.jsx)(me.a,{color:"primary"})}),Object(T.jsx)(h.a,{item:!0,xs:3,children:Object(T.jsx)(oe.a,{value:r,onChange:function(e,n){i(n),t.volume=n/100}})})]})},xe=n(110),ge=n(231),ye=n(235),ve=n(234),we=n(241),Se=n(236),ke=n(239),Ce=n(240),Te=n(108);n(162);var ze,Ie=function(e){var t=e.player,n=Object(a.useState)(20),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(s.a)(j,2),p=b[0],h=b[1],f=Object(a.useState)(!1),m=Object(s.a)(f,2),O=m[0],x=m[1],g=function(e){clearTimeout(ce),x(!0),ce=setTimeout((function(){t.pause()}),60*e*1e3)};return Object(a.useEffect)((function(){var e=function(){var e=localStorage.getItem("sleepTimerSettings");return JSON.parse(e)}();e&&(i(e.time),h(e.alwaysOn)),e&&e.alwaysOn&&g(e.time)}),[]),Object(T.jsxs)(T.Fragment,{children:[O?Object(T.jsx)(ke.a,{color:"primary",onClick:function(){return d(!0)}}):Object(T.jsx)(Ce.a,{color:"primary",onClick:function(){return d(!0)}}),Object(T.jsxs)(ge.a,{style:{zIndex:1400},open:u,onClose:function(){return d(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(T.jsx)(N.a,{variant:"h5",color:"primary",align:"center",style:{marginTop:"10px"},children:"Pause Music After"}),Object(T.jsxs)("div",{className:"container",children:[Object(T.jsxs)("div",{className:"textContainer",children:[r,Object(T.jsx)("div",{className:"minute",children:"MINUTES"})]}),Object(T.jsx)(Te.CircleSlider,{value:r,stepSize:5,onChange:function(e){return i(e)},size:300,max:120,gradientColorFrom:"#ec008c",gradientColorTo:"#fc6767",knobRadius:25,progressWidth:30,circleWidth:30})]}),Object(T.jsxs)(ye.a,{children:[Object(T.jsx)(ve.a,{value:"Always On",control:Object(T.jsx)(we.a,{checked:p,onChange:function(e){return h(e.target.checked)},value:"checked always on",color:"primary"}),label:"ALWAYS",labelPlacement:"end",style:{color:"#e91e63"}}),Object(T.jsx)(Se.a,{color:"primary",onClick:function(){localStorage.removeItem("sleepTimerSettings"),x(!1),d(!1)},children:"Remove"}),Object(T.jsx)(Se.a,{color:"primary",onClick:function(){!function(e,t){var n=JSON.stringify({time:e,alwaysOn:t});localStorage.setItem("sleepTimerSettings",n)}(r,p),d(!1),g(r)},children:"Set"})]})]})]})},Re=Object(ie.a)({root:{height:2,width:"70%",margin:"0 auto",transform:"translateY(-10px)"}})(je.a),De=function(e){var t=e.song,n=e.player,c=e.setPlayerState,r=e.history,i=Object(a.useContext)(o.a).snackbarMsg,l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(!1),p=Object(s.a)(b,2),f=p[0],m=p[1],O=Object(xe.useSongMethods)(),x=O.handleDownload,g=O.handleRemoveSong,y=O.deleteDialogComponent;Object(a.useEffect)((function(){("Song Downloaded"===i||t.audio)&&(j(!0),m(!1))}),[i]);return Object(T.jsxs)(h.a,{container:!0,justify:"space-between",direction:"row",style:{padding:" 0 10px",marginTop:"10px",position:"absolute",top:"0"},children:[Object(T.jsx)(Oe,{player:n}),y,Object(T.jsx)(be.a,{style:{transform:" scaleX(-1) translateY(-2px)"},onClick:function(){navigator.share&&navigator.share({title:"Share This Song",text:"Hey Listen to ".concat(t.title," on Ylight Music"),url:window.location.href}).then((function(){return console.log("Successful share")})).catch((function(e){return console.log("Error sharing",e)}))},color:"primary"}),Object(T.jsx)(Ie,{player:n}),Object(T.jsxs)("div",{children:[d?Object(T.jsx)(pe.a,{color:"primary",onClick:function(){return g(t.id)}}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(he.a,{color:"primary",onClick:function(){x(t.id),m(!0)}})}),f?Object(T.jsx)(Re,{color:"primary"}):null]}),Object(T.jsx)(fe.a,{onClick:function(){r.goBack(),c("minimized")},color:"primary",fontSize:"large",style:{transform:"translateY(-7px)"}})]})},Pe=n(247),Ee=(n(163),function(e){var t=e.playPause,n=e.data,a=e.playNext,c=e.emptyPlayer;return Object(T.jsx)("div",{className:"mainContainer",children:Object(T.jsxs)("div",{className:"overflow-hidden",children:[Object(T.jsxs)("div",{className:"details",children:[Object(T.jsx)(N.a,{variant:"body1",children:n.title}),Object(T.jsx)(N.a,{variant:"body2",children:n.channelTitle})]}),Object(T.jsxs)("div",{className:"buttons",children:[Object(T.jsx)(J.a,{onClick:a}),Object(T.jsx)(Pe.a,{onClick:c})]}),Object(T.jsx)("div",{className:"miniArtContainer",children:Object(T.jsxs)("div",{className:"mainArt",children:[Object(T.jsx)("img",{className:"miniArtImg",src:n.thumbnail?window.URL.createObjectURL(n.thumbnail):n.sdThumbnail,alt:"music art"}),Object(T.jsx)(G,{player:t.player,minimized:t.minimized,audioState:t.audioState})]})})]})})}),Ne=n(62),Me=n(111),Ae=n(248),Le=n(249),Ve=n(250),Fe=n(251),Ue=n(252),He=n(253),We=n(254),Be=function(e){var t=e.toggleMaxPlaylist,n=e.setPlaylist,c=e.playerState,r=e.relatedVideos,i=e.setRelatedVideos,l=e.setIsRepeatOn,u=e.isRepeatOn,d=Object(a.useContext)(o.a),j=Object(s.a)(d,2);Object(Ne.a)(j[0]);var b=j[1],p={type:"spring",damping:20,stiffness:300},f=function(e){var t;t={id:e.id.videoId,title:e.snippet.title,channelTitle:e.snippet.channelTitle,maxThumbnail:"https://img.youtube.com/vi/".concat(e.id.videoId,"/maxresdefault.jpg"),sdThumbnail:"https://img.youtube.com/vi/".concat(e.id.videoId,"/sddefault.jpg")},b({type:"setCurrentVideoSnippet",snippet:t}),n()};if(!(r.length>1))return Object(T.jsx)(je.a,{});ze=r.map((function(e){return e.snippet&&Object(T.jsx)($.b.li,{positionTransition:p,children:Object(T.jsxs)(v.a,{button:!0,onClick:function(){return f(e)},children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(Ae.a,{style:{color:"#fff"}})}),Object(T.jsx)(S.a,{primary:e.snippet.title.slice(0,40),secondary:e.snippet.channelTitle.slice(0,40)})]})},e.id.videoId)}));return Object(T.jsxs)("div",{className:"RelatedVideoContainer",children:[Object(T.jsxs)(h.a,{className:"playlistHeader",container:!0,direction:"row",alignItems:"center",justify:"space-between",children:[Object(T.jsx)(Fe.a,{}),Object(T.jsx)(N.a,{variant:"h6",children:"Coming Next"}),Object(T.jsx)(Ue.a,{onClick:function(){var e;i((e=r).reduce((function(e,t,n){var a=Math.floor(Math.random()*e.length),c=e[n];return e[n]=e[a],e[a]=c,e}),Object(Me.a)(e)))}}),u?Object(T.jsx)(He.a,{onClick:l}):Object(T.jsx)(We.a,{onClick:l}),"playlist"===c?Object(T.jsx)(Le.a,{onClick:t}):Object(T.jsx)(Ve.a,{onClick:t})]}),Object(T.jsx)(k.a,{dense:!0,children:ze})]})},qe=n(67),Ye=n(54),Xe=n.n(Ye),Ge=localStorage.getItem("country_code");Ge||function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.a.get("https://ipapi.co/json/",{mode:"no-cors"});case 2:t=e.sent,localStorage.setItem("country_code",t.data.country);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();n(118);var Je,Ke,_e=function(e){var t=e.location,n=e.history,c=new URLSearchParams(t.search),r=Object(a.useContext)(o.a),i=Object(s.a)(r,2),l=i[0],u=l.currentVideoSnippet,j=l.themeSelectValue,f=i[1],m=function(e){f({type:"setCurrentVideoSnippet",snippet:e})},O=Object(a.useState)([]),x=Object(s.a)(O,2),g=x[0],y=x[1],v=Object(a.useState)(!1),w=Object(s.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)(null),z=Object(s.a)(C,2),R=z[0],D=z[1],P=Object(a.useState)(null),E=Object(s.a)(P,2),N=E[0],M=E[1],A=Object(a.useState)(!0),L=Object(s.a)(A,2),V=L[0],F=L[1],U=Object(a.useState)(!1),H=Object(s.a)(U,2),B=H[0],q=H[1],Y=Object(a.useState)("none"),X=Object(s.a)(Y,2),J=X[0],_=X[1],$=Object(a.useState)(!1),Z=Object(s.a)($,2),ee=Z[0],te=Z[1],ae=Object(a.useState)(null),ce=Object(s.a)(ae,2),ie=(ce[0],ce[1],document.querySelector("body")),oe=Object(a.useRef)(),se=oe.current,le=function(){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:u.title,artist:u.channelTitle,artwork:[{src:u.sdThumbnail,sizes:"512x512",type:"image/png"}]}),navigator.mediaSession.setActionHandler("play",(function(){ue()})),navigator.mediaSession.setActionHandler("pause",(function(){oe.current.pause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){he()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){pe()})))},ue=function(){oe.current.play().then((function(e){le()})).catch((function(e){D("paused")}))};Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"playlist"===N||ee||M("maximized"),setTimeout((function(){te(!1)}),200),D("loading"),e.next=5,qe.a.get("/song",{params:{id:t}});case 5:n=e.sent,"https://server.ylight.xyz/proxy/",oe.current.src=n.data,ue();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(u.audio?(M("maximized"),D("loading"),oe.current.src=window.URL.createObjectURL(u.audio),ue()):u.id&&e(u.id),u.id){var a=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/search",{params:{relatedToVideoId:u.id,maxResults:10}});case 2:t=e.sent,y(t.data.items);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ee||(S?(n.replace("/play?id=".concat(u.id)),k(!1)):("/play"!==t.pathname&&n.push("/play?id=".concat(u.id)),a()))}_("none")}),[u,k]),Object(a.useEffect)((function(){Je=g}),[g]),Object(a.useEffect)((function(){}),[ee]);var je=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.a.get("/song",{params:{id:t}});case 2:n=e.sent,oe.current.src=n.data,ue();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){m({id:e.id.videoId,title:e.snippet.title,channelTitle:e.snippet.channelTitle,maxThumbnail:"https://img.youtube.com/vi/".concat(e.id.videoId,"/hqdefault.jpg"),sdThumbnail:"https://img.youtube.com/vi/".concat(e.id.videoId,"/sddefault.jpg")}),document.hidden&&je(e.id.videoId)},pe=function(){k(!0);var e,t=Je.findIndex((function(e){return e.id.videoId===u.id}));e=Je[t+1],be(e)},he=function(){if(k(!0),se.currentTime>5)se.currentTime=0;else{var e,t=Je.findIndex((function(e){return e.id.videoId===u.id}));-1!==t?(e=Je[t-1],be(e)):se.currentTime=0}},fe={position:"fixed",right:0,bottom:0,background:"#fff",width:"100%",height:"100%",zIndex:1400,display:"inline block",transition:"all .3s ease"};"minimized"===N&&(fe.transform="translateY(calc(100% - 106px))",fe.zIndex=0,fe.background="Dark"===j?"#333":"#e91e63",ie.style.overflow="auto"),"maximized"===N&&(ie.style.overflow="hidden","Dark"===j&&(fe.background="#333")),"playlist"===N&&(fe.transform="translateY(-418px)");var me=function(){"minimized"===N&&(M("maximized"),F(!0),n.push({pathname:"/play",search:"?id=".concat(u.id),state:{modal:!0}}))},Oe=function(){M("playlist"===N?"maximized":"playlist")},xe=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.i)(u);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=0,ye=Object(a.useRef)(null),ve=Object(W.useSwipeable)({onSwipedDown:function(e){M("minimized"),n.goBack()},onSwiping:function(e){0===ge&&(ge=e.event.changedTouches[0].screenY);var t=e.event.changedTouches[0].screenY,n=Math.round(t-ge);n<1&&(n=0);var a=ye.current.style;a.transform="translateY(".concat(n,"px)"),a.transition="none"},onSwiped:function(e){ge=0,ye.current.style=""},onSwipedUp:function(e){"minimized"===N&&M("maximized")},onSwipedRight:function(e){var t=setTimeout((function(){clearTimeout(t),pe()}),250)},onSwipedLeft:function(e){var t=setTimeout((function(){clearTimeout(t),he()}),250)}}),we=Object(W.useSwipeable)({onSwipedUp:function(e){me()}});Object(a.useEffect)((function(){"/play"!==t.pathname||u.id||Se(c.get("id"));n.listen((function(e){"/play"===e.pathname?"REPLACE"!==n.action&&M("maximized"):M("minimized")}))}),[n]),Object(a.useEffect)((function(){}),[N]);var Se=function(e){I.a.get("videos",{params:{id:e}}).then((function(e){var t=e.data.items[0];m({id:t.id,title:t.snippet.title,channelTitle:t.snippet.channelTitle,maxThumbnail:"https://img.youtube.com/vi/".concat(t.id,"/maxresdefault.jpg"),sdThumbnail:"https://img.youtube.com/vi/".concat(t.id,"/sddefault.jpg")})}))};return u.id?Object(T.jsxs)("div",{ref:ye,onClick:me,className:"mediaPlayerContainer "+("minimized"===N?"playerMinimized":"playlist"===N?"playerPlaylist":void 0),children:[function(){if("maximized"===N||"playlist"===N)return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(h.a,{container:!0,direction:"column",className:"main-player-inner",style:{height:" calc(100vh - 46px)",justifyContent:"space-evenly"},children:[Object(T.jsx)(De,{song:u,player:se,setPlayerState:M,history:n}),Object(T.jsx)("div",Object(d.a)(Object(d.a)({},ve),{},{className:"musicArtContainer",children:Object(T.jsx)(re,{data:u,rating:J,audioEl:se})})),Object(T.jsx)(de,{audioState:R,player:se}),Object(T.jsxs)(h.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",style:{maxWidth:"290px",height:"80px",margin:"0 auto"},children:[Object(T.jsx)(Q,{playPrevious:he}),Object(T.jsx)(G,{player:se,audioState:R}),Object(T.jsx)(K,{onPlayNext:pe})]})]}),Object(T.jsx)(Be,{toggleMaxPlaylist:Oe,setPlaylist:function(){return k(!0)},playerState:N,relatedVideos:g,setRelatedVideos:function(e){return y(e)},isRepeatOn:B,setIsRepeatOn:function(){q(!B)}})]})}(),function(){if("minimized"===N&&u.id)return Object(T.jsxs)("div",Object(d.a)(Object(d.a)({},we),{},{children:[Object(T.jsx)(Ee,{playPause:{player:se,minimized:V,audioState:R},playNext:function(e){e.stopPropagation(),te(!0),pe()},data:u,emptyPlayer:function(e){e.stopPropagation(),m([])}}),Object(T.jsx)(de,{audioState:R,player:se,minimized:V})]}))}(),Object(T.jsx)("audio",{onLoadStart:function(){D("loading")},id:"audio-element",onLoadedData:xe,onPlay:function(){return D("playing")},onPlaying:function(){return D("playing")},onPause:function(){return D("paused")},onEnded:function(){B?(oe.current.currentTime=0,ue()):pe()},autoPlay:!0,ref:oe})]}):null},Qe=n(278),$e=n(238),Ze=n(259),et=n(255),tt=n(256),nt=n(257),at=n(258),ct=n(260),rt=(n(164),n.p+"static/media/moon-solid.cf7a6d04.svg"),it=n.p+"static/media/sun-solid.1cf7793f.svg",ot=function(){var e=Object(a.useContext)(o.a),t=Object(s.a)(e,2),n=t[0],c=n.menuOpen,r=n.themeSelectValue,i=t[1],u=function(e){i({type:"setMenuOpen",snippet:e})},d=Object(a.useCallback)((function(e){i({type:"setThemeSelectValue",snippet:e})}),[i]),j=Object(a.useState)(!1),b=Object(s.a)(j,2),p=b[0],h=b[1];Object(a.useEffect)((function(){h("Dark"===r)}),[r]);var f=function(e){d(e),localStorage.setItem("selectedTheme",e)};return Object(T.jsx)(Qe.a,{open:c,onClose:function(){return u(!1)},onOpen:function(){return u(!0)},children:Object(T.jsxs)("div",{style:{width:"300px"},children:[Object(T.jsx)("div",{style:{margin:"35px",position:"relative",width:"30px",height:"30px"},children:Object(T.jsx)($.a,{children:Object(T.jsx)($.b.img,{initial:{scale:0},animate:{scale:1.5,rotate:"360deg"},exit:{scale:0},src:p?it:rt,onClick:function(){p?(f("Default"),h(!0)):(f("Dark"),h(!1))},className:"dayNightToggleBtn",alt:"sun moon icon"},p?it:rt)})}),Object(T.jsx)($e.a,{}),Object(T.jsxs)(k.a,{component:"nav",className:"pinkLists",onClick:function(){return u(!1)},children:[Object(T.jsxs)(v.a,{button:!0,component:l.b,to:"/settings",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(et.a,{})}),Object(T.jsx)(S.a,{primary:"Settings"})]}),Object(T.jsxs)(v.a,{button:!0,component:l.b,to:"/feedback",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(tt.a,{})}),Object(T.jsx)(S.a,{primary:"Feedback"})]}),Object(T.jsxs)(v.a,{button:!0,component:l.b,to:"/donate",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(nt.a,{})}),Object(T.jsx)(S.a,{primary:"Donate & Support"})]}),Object(T.jsxs)(v.a,{button:!0,component:l.b,to:"/contributors",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(at.a,{})}),Object(T.jsx)(S.a,{primary:"Contributors"})]}),Object(T.jsxs)(v.a,{button:!0,component:Ze.a,target:"blank",href:"https://github.com/ShivamJoker/Ylight-Music-Client",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)("svg",{width:"24","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"github",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",fill:"#e91e63",children:Object(T.jsx)("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}),Object(T.jsx)(S.a,{primary:"Github"})]}),Object(T.jsxs)(v.a,{button:!0,component:l.b,to:"/privacy",children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(ct.a,{})}),Object(T.jsx)(S.a,{primary:"Privacy & Policy"})]})]})]})})},st=n(276),lt=n(268),ut=n(269),dt=n(270),jt=n(271),bt=n(274),pt=n(275),ht=n(264),ft=n(265),mt=n(266),Ot=n(267),xt=function(){var e=Object(a.useContext)(o.a),t=Object(s.a)(e,2),n=t[0].themeSelectValue,c=t[1],r=Object(a.useCallback)((function(e){c({type:"setThemeSelectValue",snippet:e})}),[c]);Object(a.useEffect)((function(){}),[n]);var i=Object(T.jsx)(bt.a,{m:1,children:Object(T.jsxs)(pt.a,{value:n,onChange:function(e){r(e.target.value),localStorage.setItem("selectedTheme",e.target.value)},displayEmpty:!0,name:"age",children:[Object(T.jsx)(ht.a,{value:"Default",children:"Default"}),Object(T.jsx)(ht.a,{value:"Dark",children:"Dark"}),Object(T.jsx)(ht.a,{value:"Auto",children:"Auto"})]})});return Object(T.jsxs)(ft.a,{children:[Object(T.jsx)("br",{}),Object(T.jsx)(N.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Settings"}),Object(T.jsx)(mt.a,{component:"fieldset",children:Object(T.jsx)(Ot.a,{row:!0,children:Object(T.jsx)(ve.a,{labelPlacement:"start",label:"Select Theme ",value:"top",control:i})})})]})},gt=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,301))})),yt=Object(a.lazy)((function(){return Promise.resolve().then(n.bind(null,110))})),vt=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(9)]).then(n.bind(null,296))})),wt=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,300))})),St=Object(a.lazy)((function(){return Promise.all([n.e(7),n.e(10)]).then(n.bind(null,297))})),kt=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,298))})),Ct=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,303))})),Tt=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,299))})),zt=Object(ie.a)({root:{background:"#e91e63",position:"fixed",bottom:"0",padding:0,width:"100%",zIndex:1300},indicator:{display:"none"},labelIcon:{margin:0}})(st.a),It=Object(ie.a)({root:{color:"#FFB2C1",fontSize:".75rem",margin:0,"&:hover":{color:"#ffffffed",opacity:1},"&$selected":{color:"#fff"},"&:focus":{color:"#FFFFFF"}},selected:{}})(lt.a),Rt=void 0;window.addEventListener("beforeinstallprompt",(function(e){Rt=e}));var Dt=Object(u.f)((function(e){var t=e.history,n=e.location,c=Object(a.useContext)(o.a),r=Object(s.a)(c,1)[0],i=r.currentVideoSnippet,j=r.searchResult,m=Object(a.useState)([]),O=Object(s.a)(m,2),x=O[0],g=O[1],y=Object(a.useState)([]),v=Object(s.a)(y,2),w=v[0],S=v[1],k=Object(a.useState)([]),C=Object(s.a)(k,2),z=C[0],I=C[1],R=Object(a.useState)(0),D=Object(s.a)(R,2),P=D[0],E=D[1],N=Object(a.useState)(0),M=Object(s.a)(N,2),A=M[0],L=M[1],V=Object(a.useState)(null),F=Object(s.a)(V,2),U=F[0],H=F[1],W=Object(T.jsx)(h.a,{style:{height:"100vh"},container:!0,justify:"center",alignItems:"center",children:Object(T.jsx)(f.a,{})});var B=Object(a.useCallback)(Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=P,e.next=1===e.t0?3:2===e.t0?9:3===e.t0?15:21;break;case 3:return e.t1=S,e.next=6,Object(ne.f)();case 6:return e.t2=e.sent,(0,e.t1)(e.t2),e.abrupt("break",22);case 9:return e.t3=I,e.next=12,Object(ne.d)();case 12:return e.t4=e.sent,(0,e.t3)(e.t4),e.abrupt("break",22);case 15:return e.t5=g,e.next=18,Object(ne.e)();case 18:return e.t6=e.sent,(0,e.t5)(e.t6),e.abrupt("break",22);case 21:return e.abrupt("break",22);case 22:case"end":return e.stop()}}),e)}))),[P]);Object(a.useEffect)((function(){B()}),[P,B]),Object(a.useEffect)((function(){B()}),[A,B]),Object(a.useEffect)((function(){ne.a.on("changes",(function(){L((function(e){return e+1}))})),Object(ne.h)(),"no"===localStorage.getItem("isThisNew")&&H(!0),Ke=n,t.listen((function(e){"/play"!==e.pathname&&(Ke=e)}))}),[]),Object(a.useEffect)((function(){U&&"/"===t.location.pathname&&t.replace("/home")}),[H,t,U]);var q=function(){localStorage.setItem("isThisNew","no"),t.replace("/home"),Rt&&(Rt.prompt(),Rt.userChoice.then((function(e){e.outcome,Rt=null})))};return Object(T.jsxs)("div",{children:[Object(T.jsxs)(a.Suspense,{fallback:W,children:[Object(T.jsxs)(u.c,{location:"/play"===n.pathname?Ke:n,children:[Object(T.jsx)(u.a,{exact:!0,path:"/",render:function(e){return Object(T.jsx)(gt,{continueToHome:q})}}),Object(T.jsx)(u.a,{path:"/search",render:function(e){return Object(T.jsx)(vt,{videos:j})}}),Object(T.jsx)(u.a,{path:"/home",render:function(e){return E(0),Object(T.jsx)(wt,{})}}),Object(T.jsx)(u.a,{path:"/liked",render:function(e){return E(1),Object(a.createElement)(yt,Object(d.a)(Object(d.a)({songs:w},e),{},{key:n.pathname}))}}),Object(T.jsx)(u.a,{path:"/downloads",render:function(e){return E(2),Object(T.jsx)(yt,{songs:z},n.pathname)}}),Object(T.jsx)(u.a,{path:"/history",render:function(e){return E(3),Object(T.jsx)(yt,{songs:x},n.pathname)}}),Object(T.jsx)(u.a,{path:"/app",render:function(e){return window.location.replace("https://play.google.com/store/apps/details?id=com.ylightmusic.app"),Object(T.jsx)("div",{children:"Redirecting you to play store"})}}),Object(T.jsx)(u.a,{path:"/settings",component:xt}),Object(T.jsx)(u.a,{path:"/privacy",component:kt}),Object(T.jsx)(u.a,{path:"/feedback",component:St}),Object(T.jsx)(u.a,{path:"/donate",component:Ct}),Object(T.jsx)(u.a,{path:"/contributors",component:Tt})]}),Object(T.jsx)(u.a,{path:"/",render:function(e){return function(e){return"/"!==window.location.pathname?Object(T.jsx)(_e,Object(d.a)({},e)):null}(e)}}),Object(T.jsx)("div",{style:{height:i.id?"100px":"50px"}})]}),Object(T.jsxs)(zt,{value:P,onChange:function(e,t){E(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary",children:[Object(T.jsx)(It,{icon:Object(T.jsx)(ut.a,{}),"aria-label":"Home",component:l.b,to:"/home",label:"Home"}),Object(T.jsx)(It,{icon:Object(T.jsx)(dt.a,{}),"aria-label":"Liked",component:l.b,to:"/liked",label:"Liked"}),Object(T.jsx)(It,{icon:Object(T.jsx)(he.a,{}),"aria-label":"Downloads",component:l.b,to:"/downloads",label:"Downloads"}),Object(T.jsx)(It,{icon:Object(T.jsx)(jt.a,{}),"aria-label":"History",component:l.b,to:"/history",label:"History"})]})]})})),Pt=(n(279),n(109)),Et=n(272),Nt=n(81),Mt=document.querySelector("body"),At={palette:{primary:Nt.a,secondary:{main:"#fafafa"}},typography:{useNextVariants:!0}},Lt={palette:{type:"dark",primary:Nt.a,secondary:{main:"#fafafa"}},typography:{useNextVariants:!0}},Vt=Object(Pt.a)(Lt),Ft=Object(Pt.a)(At),Ut=function(){var e=Object(a.useContext)(o.a),t=Object(s.a)(e,2),n=t[0].themeSelectValue,c=(t[1],function(){var e=Object(a.useContext)(o.a),t=Object(s.a)(e,2)[1],n=Object(a.useCallback)((function(e){t({type:"setThemeSelectValue",snippet:e})}),[t]);return{checkDarkMode:function(){var e=localStorage.getItem("selectedTheme");if(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){e.matches?n("Dark"):n("Default")})),e){n(e);var t=(new Date).getHours();"Auto"===e&&n(t>=18||t<=6?"Dark":"Default")}}}}().checkDarkMode);return Object(a.useEffect)((function(){c(),navigator.userAgent.match(/Android/i)&&(Mt.style.overscrollBehavior="none")}),[]),Object(a.useEffect)((function(){"Dark"===n?Mt.classList.add("dark"):Mt.classList.remove("dark")}),[n]),Object(T.jsx)(Et.a,{theme:"Dark"===n?Vt:Ft,children:Object(T.jsxs)(l.a,{children:[Object(T.jsx)(H,{}),Object(T.jsx)(u.a,{component:Dt}),Object(T.jsx)(ot,{})]})})};var Ht=function(){return Object(T.jsx)(o.b,{children:Object(T.jsx)(Ut,{})})},Wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(T.jsx)(Ht,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/nreyt",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/nreyt","/service-worker.js");Wt?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Bt(t,e)}))}}()},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var a=n(18),c=n(0),r=n.n(c),i=n(2),o=r.a.createContext(),s={searchState:"home",searchResult:[],relatedVideos:[],menuOpen:!1,snackbarMsg:!1,currentVideoSnippet:{},themeSelectValue:"Default"},l=function(e,t){switch(t.type){case"setCurrentVideoSnippet":return Object(a.a)(Object(a.a)({},e),{},{currentVideoSnippet:t.snippet});case"setRelatedVideos":return Object(a.a)(Object(a.a)({},e),{},{relatedVideos:t.snippet});case"setSnackbarMsg":return Object(a.a)(Object(a.a)({},e),{},{snackbarMsg:t.snippet});case"setThemeSelectValue":return Object(a.a)(Object(a.a)({},e),{},{themeSelectValue:t.snippet});case"setSearchState":return Object(a.a)(Object(a.a)({},e),{},{searchState:t.snippet});case"setSearchResult":return Object(a.a)(Object(a.a)({},e),{},{searchResult:t.snippet});case"setMenuOpen":return Object(a.a)(Object(a.a)({},e),{},{menuOpen:t.snippet});default:return e}},u=function(e){var t=Object(c.useReducer)(l,s);return Object(i.jsx)(o.Provider,{value:t,children:e.children})}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f}));var a=n(8),c=n(14),r=n.n(c),i=n(23),o=n(12),s=(n(157),n(158),n(161),new o.a("Song_Database"));s.version(1).stores({songs:"&videoId, timestamp, playbackTimes, [rating+timestamp], [downloadState+timestamp]"}),s.version(2).stores({});var l=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={videoId:t.id,timestamp:Date.now(),title:t.title,channelTitle:t.channelTitle,playbackTimes:1},e.next=3,s.songs.get({videoId:t.id});case 3:if(!(a=e.sent)){e.next=9;break}return s.songs.update(t.id,{timestamp:Date.now(),playbackTimes:a.playbackTimes+1}),e.abrupt("return",a.rating);case 9:s.songs.add(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.songs.update(t,{rating:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.songs.orderBy("timestamp").limit(500).reverse().toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.songs.where("[rating+timestamp]").between(["liked",o.a.minKey],["liked",o.a.maxKey]).reverse().toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.songs.where("[downloadState+timestamp]").between(["downloaded",o.a.minKey],["downloaded",o.a.maxKey]).reverse().toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.songs.where("[downloadState+timestamp]").between(["downloading",o.a.minKey],["downloading",o.a.maxKey]).modify((function(e){delete e.downloadState}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var c,i,o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.songs.update(t,{downloadState:"downloading"}),c="https://i.ytimg.com/vi/".concat(t,"/hqdefault.jpg"),e.next=5,Promise.all([m(c),m(n)]);case 5:return i=e.sent,o=Object(a.a)(i,2),l=o[0],u=o[1],s.songs.update(t,{downloadState:"downloaded",thumbnail:l,audio:u}),e.abrupt("return","downloaded");case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.songs.where({videoId:t}).modify((function(e){delete e.audio,delete e.downloadState}));case 2:return e.abrupt("return","song deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function m(e){var t=e;return new Promise((function(e,n){var a=new XMLHttpRequest;a.open("GET","https://server.ylight.xyz/proxy/"+t),a.responseType="blob",a.onload=function(){var t=a.status;t>=200&&t<300?e(a.response):n({status:t,statusText:a.statusText})},a.send(),setTimeout((function(){a.abort(),a.open("GET","https://server.ylight.xyz/proxy/"+t),a.send()}),1e3)}))}},63:function(e,t,n){"use strict";var a=n(54),c=n.n(a);t.a=c.a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",videoCategoryId:"10",type:"video",key:function(){var e="AIzaSyCdoS0vPOOqwmXGMCEeBwBxRCNXgQ59YVE, AIzaSyCX_6eOmqsloW5y8LA80pGJBPOLqpG_5QU, AIzaSyDQtko-PqyDkxtjqMOm4XOXSCBCc9F1rFc".split(" ");return e[Math.floor(Math.random()*Math.floor(e.length))]}()}})},67:function(e,t,n){"use strict";var a=n(54),c=n.n(a);t.a=c.a.create({baseURL:"https://server.ylight.xyz"})}},[[166,1,2]]]);
//# sourceMappingURL=main.f75ccba7.chunk.js.map